{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"NoticeBoard\"\n};\nconst _hoisted_2 = {\n  class: \"content\"\n};\nconst _hoisted_3 = {\n  class: \"container author\"\n};\nconst _hoisted_4 = {\n  class: \"author-life\"\n};\nconst _hoisted_5 = {\n  key: 0\n};\nconst _hoisted_6 = {\n  class: \"author-intro\"\n};\nconst _hoisted_7 = {\n  class: \"author-book\"\n};\nconst _hoisted_8 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_Header), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", null, _toDisplayString(this.authorData.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"span\", null, _toDisplayString(this.authorData.date_of_birth), 1 /* TEXT */), $data.authorData.date_of_birth != _ctx.Null ? (_openBlock(), _createElementBlock(\"span\", _hoisted_5, \" ~ \")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"span\", null, _toDisplayString(this.authorData.date_of_death), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_6, _toDisplayString(this.authorData.intro), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_7, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.bookData, book => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: book\n    }, [_createElementVNode(\"img\", {\n      src: 'http://127.0.0.1:8000' + book.image\n    }, null, 8 /* PROPS */, _hoisted_8), _createTextVNode(\" \" + _toDisplayString(book.title) + \" \", 1 /* TEXT */), _createCommentVNode(\"<router-link :to=\\\"{ name:'book', params:{id:book.id}}\\\">{{book.title}}</router-link>\")]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createVNode(_component_Footer)]);\n}","map":{"version":3,"mappings":";;EACOA,KAAK,EAAC;AAAa;;EAGfA,KAAK,EAAC;AAAS;;EAAMA,KAAK,EAAC;AAAkB;;EAG3CA,KAAK,EAAC;AAAa;;;;;EAKvBA,KAAK,EAAC;AAAc;;EAGhBA,KAAK,EAAC;AAAa;;;;;uBAd9BC,oBAyBM,OAzBNC,UAyBM,GAxBJC,aAAiBC,oBAEfC,oBAmBY,OAnBZC,UAmBY,GAnBSD,oBAmBf,OAnBeE,UAmBf,GAlBRF,oBAAiC,kCAAtBG,UAAU,CAACC,IAAI,kBAEtBJ,oBAIM,OAJNK,UAIM,GAHJL,oBAA8C,oCAAjCG,UAAU,CAACG,aAAa,kBACzBC,gBAAU,CAACD,aAAa,IAAIE,SAAI,kBAA5CZ,oBAAwD,oBAAV,KAAG,wCACjDI,oBAA8C,oCAAjCG,UAAU,CAACM,aAAa,oBAE3CT,oBAAyD,OAAzDU,UAAyD,wBAAxBP,UAAU,CAACQ,KAAK,kBAG7CX,oBAMM,OANNY,UAMM,sBALJhB,oBAIMiB,6BAJcN,cAAQ,EAAhBO,IAAI;yBAAhBlB,oBAIM;MAJyBmB,GAAG,EAAED;IAAI,IACtCd,oBAA+C;MAAzCgB,GAAG,4BAA0BF,IAAI,CAACG;0DAAO,GAC/C,oBAAEH,IAAI,CAACI,KAAK,IAAE,GACd,6HAA0F;wCAMlGpB,aAAiBqB","names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_Header","_createElementVNode","_hoisted_2","_hoisted_3","authorData","name","_hoisted_4","date_of_birth","$data","_ctx","date_of_death","_hoisted_6","intro","_hoisted_7","_Fragment","book","key","src","image","title","_component_Footer"],"sourceRoot":"","sources":["/Users/isg/Desktop/work/webstudy/Django-vue-library/vue-templates/src/views/books/Author.vue"],"sourcesContent":["<template>\n  <div class=\"NoticeBoard\">\n    <Header></Header> \n\t\t\n      <div class=\"content\"><div class=\"container author\">        \n\t\t\t\t<h3>{{this.authorData.name}}</h3>\n\n        <div class=\"author-life\">\n          <span>{{this.authorData.date_of_birth}}</span>\n          <span v-if=\"authorData.date_of_birth != Null\"> ~ </span>\n          <span>{{this.authorData.date_of_death}}</span>\n        </div>\n\t\t\t\t<div class=\"author-intro\">{{this.authorData.intro}}</div>\n\t\n\n        <div class=\"author-book\">\n          <div v-for=\"book in bookData\" :key=\"book\" >\n            <img :src=\"'http://127.0.0.1:8000'+book.image\">\n            {{book.title}}\n            <!--<router-link :to=\"{ name:'book', params:{id:book.id}}\">{{book.title}}</router-link>-->\n          </div>\n        </div>\n\n      </div></div>\n\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\n  import { getAPI } from '@/axios-api'\n  import { useRoute } from 'vue-router'\n  import Header from '@/components/Header'\n  import Footer from '@/components/Footer'\n  export default {\n    name: 'Author',\n    data () {\n      return {\n        authorData: [],\n        bookData: [],\n      }\n    },\n    components: {\n      Header,\n      Footer,\n    },\n    methods : {\n    },\n    mounted() {\n      console.log(this.$route)\n    },\n    created () {\n      const route = useRoute();\n      const id = route.params.id;\n\n      getAPI.get(`/author/${id}/`)\n        .then(response => {\n          console.log('Author API has recieved data')\n          this.authorData = response.data\n\n          getAPI.get(`/bookSuggest/?author=${this.authorData.name}`)\n            .then(response => {\n              console.log('suggest-book API has recieved data')\n              this.bookData = response.data\n            })\n            .catch(err => {\n              console.log(err)\n            })\n        })\n        .catch(err => {\n          console.log(err)\n        })\n\n      \n    },\n  }\n</script>\n\n<style scoped>\n\n</style>\n\nbook = Book.objects.filter(title=\"asd\")\nauth = Book.objects.filter(auth__name=\"test\")"]},"metadata":{},"sourceType":"module","externalDependencies":[]}