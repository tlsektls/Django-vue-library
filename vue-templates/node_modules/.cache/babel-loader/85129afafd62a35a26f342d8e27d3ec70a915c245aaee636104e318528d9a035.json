{"ast":null,"code":"import { getAPI } from '@/axios-api';\nimport Header from '@/components/Header';\nimport Footer from '@/components/Footer';\nimport SearchBar from '@/views/inner/SearchBar';\nexport default {\n  name: 'News-list',\n  data() {\n    return {\n      newsData: [],\n      paramsData: null,\n      boardSearch: \"\",\n      pageNum: 0\n    };\n  },\n  props: {\n    //listArray: {\n    //  type: Array,\n    //  required: true\n    //},\n    pageSize: {\n      type: Number,\n      required: false,\n      default: 5\n    }\n  },\n  components: {\n    Header,\n    Footer,\n    SearchBar\n  },\n  created() {\n    getAPI.get('/newsboard/').then(response => {\n      console.log(response);\n      console.log('newsboard API has recieved data');\n      this.newsData = response.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  },\n  methods: {\n    nextPage() {\n      this.pageNum += 1;\n    },\n    movePage(e) {\n      this.pageNum = e;\n    },\n    prevPage() {\n      this.pageNum -= 1;\n    }\n  },\n  computed: {\n    pageCount() {\n      let listLeng = this.newsData.length,\n        listSize = this.pageSize,\n        page = Math.floor(listLeng / listSize);\n      page = Math.floor((listLeng - 1) / listSize) + 1;\n      return page;\n    },\n    newsData() {\n      return this.newsData.filter(val => {\n        if (val != \"\") {\n          console.log(\"val\", val.projects);\n          var searchVal = val.CaseNumber.toUpperCase().indexOf(this.boardSearch.toUpperCase()) >= 0;\n          return searchVal;\n        }\n\n        //const start = this.pageNum * this.pageSize,\n        //      end = start + this.pageSize;\n        //return this.newsData.slice(start, end);\n      });\n    }\n    //boardSearch(val){},\n  }\n};","map":{"version":3,"mappings":"AAqDE,SAASA,MAAK,QAAS,aAAY;AACnC,OAAOC,MAAK,MAAO,qBAAoB;AACvC,OAAOC,MAAK,MAAO,qBAAoB;AACvC,OAAOC,SAAQ,MAAO,yBAAwB;AAEhD,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,IAAG,GAAK;IACN,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE,IAAI;MAChBC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAE;IACX;EACF,CAAC;EACDC,KAAK,EAAE;IACL;IACA;IACA;IACA;IACAC,QAAQ,EAAE;MACRC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE,KAAK;MACfC,OAAO,EAAE;IACX;EACF,CAAC;EACFC,UAAU,EAAE;IACTf,MAAM;IACNC,MAAM;IACNC;EACF,CAAC;EACDc,OAAM,GAAK;IACTjB,MAAM,CAACkB,GAAG,CAAC,aAAa,EACrBC,IAAI,CAACC,QAAO,IAAK;MAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ;MACpBC,OAAO,CAACC,GAAG,CAAC,iCAAiC;MAC7C,IAAI,CAAChB,QAAO,GAAIc,QAAQ,CAACf,IAAG;IAC9B,CAAC,EACAkB,KAAK,CAACC,GAAE,IAAK;MACZH,OAAO,CAACC,GAAG,CAACE,GAAG;IACjB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACPC,QAAO,GAAK;MACV,IAAI,CAACjB,OAAM,IAAK,CAAC;IACnB,CAAC;IACDkB,QAAQ,CAACC,CAAC,EAAE;MACV,IAAI,CAACnB,OAAM,GAAImB,CAAC;IAClB,CAAC;IACDC,QAAO,GAAK;MACV,IAAI,CAACpB,OAAM,IAAK,CAAC;IACnB;EACF,CAAC;EACDqB,QAAQ,EAAE;IACRC,SAAQ,GAAK;MACX,IAAIC,QAAO,GAAI,IAAI,CAAC1B,QAAQ,CAAC2B,MAAM;QAC/BC,QAAO,GAAI,IAAI,CAACvB,QAAQ;QACxBwB,IAAG,GAAIC,IAAI,CAACC,KAAK,CAACL,QAAO,GAAIE,QAAQ,CAAC;MAC1CC,IAAG,GAAIC,IAAI,CAACC,KAAK,CAAC,CAACL,QAAO,GAAI,CAAC,IAAIE,QAAQ,IAAI;MAC/C,OAAOC,IAAI;IACb,CAAC;IACD7B,QAAO,GAAK;MACb,OAAO,IAAI,CAACA,QAAQ,CAACgC,MAAM,CAAEC,GAAG,IAAK;QAChC,IAAGA,GAAE,IAAK,EAAE,EAAE;UACZlB,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEiB,GAAG,CAACC,QAAQ;UAC/B,IAAIC,SAAQ,GAAIF,GAAG,CAACG,UAAU,CAACC,WAAW,EAAE,CAACC,OAAO,CAAC,IAAI,CAACpC,WAAW,CAACmC,WAAW,EAAE,KAAK,CAAC;UACzF,OAAOF,SAAQ;QACjB;;QAEA;QACA;QACA;MACF,CAAC;IACH;IACA;EACF;AACF","names":["getAPI","Header","Footer","SearchBar","name","data","newsData","paramsData","boardSearch","pageNum","props","pageSize","type","Number","required","default","components","created","get","then","response","console","log","catch","err","methods","nextPage","movePage","e","prevPage","computed","pageCount","listLeng","length","listSize","page","Math","floor","filter","val","projects","searchVal","CaseNumber","toUpperCase","indexOf"],"sourceRoot":"","sources":["/Users/isg/Desktop/work/webstudy/Django-vue-library/vue-templates/src/views/board/News.vue"],"sourcesContent":["<template>\n  <div class=\"\">\n    <Header></Header> \n\t\t\n    <!--<SearchBar></SearchBar>-->\n  <div class=\"search d-block\">\n    <input type=\"search\" v-model=\"boardSearch\">\n    <button type=\"submit\"><i class=\"xi-search\"></i></button>\n  </div>\n\n    <table>\n      <tr>\n        <th>뉴스 제목</th>\n        <th>뉴스 날짜</th>\n      </tr>\n      <tr v-for=\"news in newsData\" :key=\"news\">\n        <td><router-link :to=\"{ name:'NewsInner', params:{id:news.id}}\">{{ news.news_title }}</router-link></td>\n        <td>{{ news.news_date }}</td>\n      </tr>\n    </table>\n\t\t\n    <div class=\"btn-cover\">\n      <button v-if=\"pageNum === 0 ?false:true\" @click=\"prevPage\" class=\"page-btn\">\n        이전\n      </button>\n\n      <button v-if=\"pageNum < 2 ?false:true\" @click=\"movePage(pageNum-2)\" class=\"page-btn\">\n        {{ pageNum -1 }}\n      </button>\n      <button v-if=\"pageNum < 1 ?false:true\" @click=\"movePage(pageNum-1)\" class=\"page-btn\">\n        {{ pageNum }}\n      </button>\n      <button @click=\"prevPage\" class=\"page-btn active\">\n        {{ pageNum +1 }}\n      </button>\n      <button v-if=\"pageNum >= pageCount - 1 ?false:true\" @click=\"movePage(pageNum+1)\" class=\"page-btn\">\n        {{ pageNum +2 }}\n      </button>\n      <button v-if=\"pageNum >= pageCount - 2 ?false:true\" @click=\"movePage(pageNum+2)\" class=\"page-btn\">\n        {{ pageNum +3 }}\n      </button>\n\n      <!--<span class=\"page-count\">{{ pageNum + 1 }} / {{ pageCount }} 페이지</span>-->\n      <button v-if=\"pageNum >= pageCount - 1 ?false:true\" @click=\"nextPage\" class=\"page-btn\">\n        다음\n      </button>\n    </div>\n\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\n  import { getAPI } from '@/axios-api'\n  import Header from '@/components/Header'\n  import Footer from '@/components/Footer'\n  import SearchBar from '@/views/inner/SearchBar'\n\nexport default {\n  name: 'News-list',\n  data () {\n    return {\n      newsData: [],\n      paramsData: null,\n      boardSearch: \"\",\n      pageNum: 0,\n    }\n  },\n  props: {\n    //listArray: {\n    //  type: Array,\n    //  required: true\n    //},\n    pageSize: {\n      type: Number,\n      required: false,\n      default: 5\n    }\n  },\n\tcomponents: {\n    Header,\n    Footer,\n    SearchBar\n  },\n  created () {\n    getAPI.get('/newsboard/')\n      .then(response => {\n        console.log(response)\n        console.log('newsboard API has recieved data')\n        this.newsData = response.data\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  },\n  methods: {\n    nextPage () {\n      this.pageNum += 1;\n    },\n    movePage(e) {\n      this.pageNum = e;\n    },\n    prevPage () {\n      this.pageNum -= 1;\n    }\n  },\n  computed: {\n    pageCount () {\n      let listLeng = this.newsData.length,\n          listSize = this.pageSize,\n          page = Math.floor(listLeng / listSize);\n      page = Math.floor((listLeng - 1) / listSize) + 1\n      return page;\n    },\n    newsData () {\n\t\t\treturn this.newsData.filter((val) => {\n        if(val != \"\") {\n          console.log(\"val\", val.projects)\n          var searchVal = val.CaseNumber.toUpperCase().indexOf(this.boardSearch.toUpperCase()) >= 0;\n          return searchVal\n        }\n      \n        //const start = this.pageNum * this.pageSize,\n        //      end = start + this.pageSize;\n        //return this.newsData.slice(start, end);\n      }) \n    }\n    //boardSearch(val){},\n  }\n}\n</script>\n\n<style>\ntable {\n  width: 100%;\n  border-collapse: collapse;\n}\ntable th {\n  font-size: 1.2rem;\n}\ntable tr {\n  height: 2rem;\n  text-align: center;\n  border-bottom: 1px solid #505050;\n}\ntable tr:first-of-type {\n  border-top: 2px solid #404040;\n}\ntable tr td {\n  padding: 1rem 0;\n  font-size: 1.1rem;\n}\n.btn-cover {\n  margin-top: 1.5rem;\n  text-align: center;\n}\n.btn-cover .page-btn {\n  width: 5rem;\n  height: 2rem;\n  letter-spacing: 0.5px;\n}\n.btn-cover .page-count {\n  padding: 0 1rem;\n}\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}