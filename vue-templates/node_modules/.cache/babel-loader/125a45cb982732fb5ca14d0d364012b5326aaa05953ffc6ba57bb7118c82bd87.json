{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getAPI } from '@/axios-api';\nexport default {\n  name: 'Header',\n  data() {\n    return {\n      login: []\n    };\n  },\n  mounted() {\n    setInterval(() => {\n      this.getAccess();\n    }, 6000000); //6000000\n  },\n\n  methods: {\n    getAccess(e) {\n      const accessData = {\n        refresh: this.$store.state.refresh\n      };\n      getAPI.post('api/v1/jwt/refresh', accessData).then(response => {\n        const access = response.data.access;\n        localStorage.setItem(\"access\", access);\n        this.$store.commit('setAccess', access);\n      }).catch(error => {\n        console.log(\"refresh\", error);\n      });\n    },\n    logout() {\n      this.getAccess();\n      console.log(\"LOGOUT\");\n      localStorage.setItem(\"access\", '');\n      localStorage.setItem(\"refresh\", '');\n      this.$store.commit('removeToken');\n      this.$router.push(\"/\");\n    }\n  }\n};","map":{"version":3,"mappings":";AA6FA,SAASA,MAAK,QAAS,aAAY;AAEnC,eAAe;EACbC,IAAI,EAAE,QAAQ;EAEdC,IAAG,GAAK;IACN,OAAO;MACLC,KAAK,EAAE;IACT;EACF,CAAC;EAEDC,OAAO,GAAG;IACRC,WAAW,CAAC,MAAM;MAChB,IAAI,CAACC,SAAS,EAAC;IACjB,CAAC,EAAE,OAAO,GAAE;EACd,CAAC;;EACDC,OAAO,EAAE;IACPD,SAAS,CAACE,CAAC,EAAE;MACX,MAAMC,UAAS,GAAI;QACjBC,OAAO,EAAE,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF;MAC7B;MACAV,MAAM,CAACa,IAAI,CAAC,oBAAoB,EAAEJ,UAAU,EAC3CK,IAAI,CAACC,QAAO,IAAK;QAChB,MAAMC,MAAK,GAAID,QAAQ,CAACb,IAAI,CAACc,MAAK;QAClCC,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEF,MAAM;QACrC,IAAI,CAACL,MAAM,CAACQ,MAAM,CAAC,WAAW,EAAEH,MAAM;MACxC,CAAC,EACAI,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,KAAK;MAC9B,CAAC;IACH,CAAC;IACDG,MAAM,GAAG;MACP,IAAI,CAAClB,SAAS,EAAC;MACfgB,OAAO,CAACC,GAAG,CAAC,QAAQ;MACpBN,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAE,EAAE;MACjCD,YAAY,CAACC,OAAO,CAAC,SAAS,EAAE,EAAE;MAClC,IAAI,CAACP,MAAM,CAACQ,MAAM,CAAC,aAAa;MAChC,IAAI,CAACM,OAAO,CAACC,IAAI,CAAC,GAAG;IACvB;EACF;AACF","names":["getAPI","name","data","login","mounted","setInterval","getAccess","methods","e","accessData","refresh","$store","state","post","then","response","access","localStorage","setItem","commit","catch","error","console","log","logout","$router","push"],"sourceRoot":"","sources":["/Users/isg/Desktop/work/webstudy/Django-vue-library/vue-templates/src/components/Header.vue"],"sourcesContent":["<template>\n<header class=\"layout-header\">\n  <div class=\"container\">\n\n    <nav class=\"navbar desktop\">\n      <h1>\n        <router-link :to = \"{ name:'index' }\" exact class=\"navbar-brand\">\n          <img src=\"@/assets/images/logo.png\" width=\"\" height=\"27\" class=\"d-inline-block align-top\" alt=\"\" loading=\"lazy\">\n        </router-link>\n      </h1>\n\t\t\t<div class=\"collapse navbar-collapse\">\n        <ul class=\"navbar-nav desktop\">\n          <li class=\"nav-item active-only dropdown\">\n            <router-link :to=\"{ name:'Login' }\" exact class=\"nav-link px-20\" >blank1</router-link>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <router-link :to=\"{ name:'Login' }\" class=\"nav-link px-20\" >blank1</router-link>\n          </li>\n          <li class=\"nav-item dropdown\">\n            <router-link :to=\"{ name:'Login' }\" class=\"nav-link px-20\" >blank1</router-link>\n          </li>\n          \n          <!-- 비 로그인 -->\n          <li class=\"nav-item\">\n            <router-link :to = \"{ name:'Login' }\">\n              <!--<font-awesome-icon icon=\"fa-solid fa-circle-user\" />-->\n              Login\n              </router-link> \n          </li>\n          <li> | </li>\n          <li class=\"nav-item\">\n            <router-link :to = \"{ name:'Singup' }\">\n              <!--<font-awesome-icon icon=\"fa-solid fa-user-plus\" />-->\n              Singup\n            </router-link>\n          </li>\n          <li class=\"nav-item\">\n            <button @click=\"logout()\">Logout</button>\n          </li>\n          <li class=\"nav-item\">\n            <router-link :to = \"{ name:'User' }\">\n              <font-awesome-icon icon=\"fa-solid fa-circle-user\" />\n              내 도서\n            </router-link>\n          </li>\n          <!-- 로그인 -->\n          <!--<li class=\"nav-item line-none dropdown\">\n            <a href=\"javascript:void(0)\" class=\"btn login nav-link\" role=\"button\">\n              <i class=\"xi-user mr-6\"><span class=\"sr-only\">유저 아이콘</span></i>\n              <span class=\"mr-6\">홍길동님</span>\n              <i class=\"xi-angle-down\"><span class=\"sr-only\">화살표 아이콘</span></i>\n            </a>\n            <div class=\"dropdown-menu pt-50\">\n              <div class=\"dropdown-wrap\">\n                <a href=\"javascript:void(0)\" class=\"dropdown-item\">내정보 메뉴1</a>\n                <a href=\"javascript:void(0)\" class=\"dropdown-item\">내정보 메뉴1</a>\n                <a href=\"javascript:void(0)\" class=\"dropdown-item\">내정보 메뉴2</a>\n                <a href=\"javascript:void(0)\" class=\"dropdown-item\">로그아웃</a>\n              </div>\n            </div>\n          </li>-->\n          \n        </ul>\n        <ul class=\"navbar-nav mobile\">\n          <li class=\"nav-item\">\n            <a href=\"javascript:void(0)\">\n              <i class=\"xi-bars\"><span class=\"sr-only\">메뉴 아이콘</span></i>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  </div>\n  <!--<nav class=\"navbar mobile\">\n    <div class=\"container\">\n      \n      <ul class=\"navbar-nav\">\n        <li class=\"nav-item d-flex align-items-center justify-content-between mb-30\">\n          <h3>title</h3>\n          <button type=\"button\" class=\"btn-navbar-close\">\n            <i class=\"xi-close\"><span class=\"sr-only\">메뉴 닫기</span></i>\n          </button>\n        </li>\n        <li class=\"nav-item\">\n          <a href=\"\">menu 01</a>\n        </li>\n      </ul>\n    </div>\n  </nav>-->\n</header>\n</template>\n\n<script>\nimport { getAPI } from '@/axios-api'\n\nexport default {\n  name: 'Header',\n\n  data () {\n    return {\n      login: [],\n    }\n  },\n\n  mounted() {\n    setInterval(() => {\n      this.getAccess()\n    }, 6000000) //6000000\n  },\n  methods: {\n    getAccess(e) {\n      const accessData = {\n        refresh: this.$store.state.refresh\n      }\n      getAPI.post('api/v1/jwt/refresh', accessData)\n      .then(response => {\n        const access = response.data.access\n        localStorage.setItem(\"access\", access)\n        this.$store.commit('setAccess', access)\n      })\n      .catch(error => {\n        console.log(\"refresh\", error)\n      })\n    },\n    logout() {\n      this.getAccess()\n      console.log(\"LOGOUT\")\n      localStorage.setItem(\"access\", '')\n      localStorage.setItem(\"refresh\", '')\n      this.$store.commit('removeToken')\n      this.$router.push(\"/\")\n    },\n  },\n}\n\n</script>\n\n//<style lang=\"scss\">\n//@import \"@/assets/scss/common.scss\";\n//@import \"@/assets/scss/header.scss\";\n//</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}